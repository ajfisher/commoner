var charm = require("charm")();
var Grid = require("../lib/grid.js");
var PoliticalEntity = require("../lib/political_entity.js");

var map_data = [
    ["~","~","~","~","~","~","~","~","~","~","~","~","~","~","~","~","~","~","~"],
    ["~",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","~"],
    ["~",".","#","#",".",".",".",".",".",".",".",".",".",".",".",".",".",".","~"],
    ["~",".","#","#",".",".",".",".",".",".",".",".",".",".",".",".",".",".","~"],
    ["~",".",".","#",".",".",".",".",".",".",".",".",".",".",".",".",".",".","~"],
    ["~",".",".","#",".",".",".",".",".",".",".",".",".",".",".",".",".",".","~"],
    ["~",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","~"],
    ["~",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","~"],
    ["~",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","~"],
    ["~",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","~"],
    ["~",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","~"],
    ["~",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","~"],
    ["~","~","~","~","~","~","~","~","~","~","~","~","~","~","~","~","~","~","~"],
];

charm.pipe(process.stdout);

var Cube = require("./cube.js");
var g = new Grid();
g.load_data({data: map_data});

var c = new Cube([0,0,0])
var pe = new PoliticalEntity(1, {
    race: PoliticalEntity.RACES.HUMAN,
    starting_position: c,
});

console.log(pe);
g.update_owner(c, pe.id);
var h = g.hexmap.get(pe.starting_position.toString());
console.log(h);

g.render(charm);
